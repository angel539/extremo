language: java
install: true
env:
  global:
    - secure: "S3aRJk44yIsMOvKfP+nb0dPHzPeR0VV4aHk9+03nnCBo7qxJNObJbsrQdUJwZgtKWaHvM4z7H66URQSvshZW+tIYzDnYIm1H3CVIDPQWhhGDSSwmvfRfu6hskadupTd7hlCrWdDn7y53J/GkDGzgdRz3K3tsdpLmz8Pm5yia6CpTIHewshDDEphapgMgT4R+KU2TL2zEjRTKpmqp+TGn/fOtaa/dZSN+T6yz78+x5p6pRIWfXlhLBu9qmrbk6KAYjbWcvFEQCvXpHZagTOdcUJjSX+W0Ta+xGyCGspP8oYYfIJjPpm2dKViIeM/wcc/gueGCn2TEJ0AI3lkQ9IoFUR3rRq1+Fh8tujc8UAXpnpL4ybJxMqkvJJG46jUs1JGQF085tr6XFfdqzYAp9Qmg4yklYlNfCLrL/l2Hjbq4aQDZRyWnOZjR0uVLZAEyHdZuLrvlAEq4VZD0urKtabkPTNOAjRSbdNXvSVpXW1vUxBtw8ekzVg59OpctFS4Sywh5g3af2UdIVLf//FTx2uzinEXV1SFgbg69j3IRChYOX35+OVZ74z+Yr+AWQMJK0kXz9SWpkolT6QixkaiF4dQiJG7urVcl2rlBSzNiDHJYhzX1PW3hkSfzV9g2TRrc4dyQb7PfEGP9s139olqg1rlJyGZiJ8XXsQ9qfbwolPxGa8U="
    - # ^^ OSSRH_JIRA_TOKEN_USERNAME
    - secure: "lxvfROFGaRXgN6tljhVwRpli0FEUtZbh5NopvyrUFlBG/HTbYhQgIuglIceEJwbmBjcZwFCHlzp1NGgIcjEWwM3poN2g99qkwkxLT9dJthX4JcpuGqxciiVKgZVvx18YE7EDYmqN4GSEDHhlcsSSwyD92OmFzM5X7sEwKitHB3tYVrE+wq8PC0eh7qxf4HU41z74nQTEDNMrzZDCX8moCgvWRgOePtHJY2frCEoFtlUuDh5Ps3smotz9Ii0SNECWGGKWChAG0pRhgkGfEGhcBPkeVdw0Kct761mvUYR7DFi8vO6m7PLRMmw/fzKYGUdSTAjI0h0tYf6cB0dYFbyLAsRFocl1Djdm2iNGm1Ueh84RhtH5FX6dGtxfmu32GQkdtwla4RoKENQdN0b2bNXzIUsfwf7bltEZvxUJIcF+/PrvlXcE67yqpvD3RWG4qiKOykJ4oHTjRC3YDvaU969aob0+ri4DphoHMxl5guBwP0BfVNsn2ug5I2XnQwu6x/cTuAzAq/cqy5mBM7GMAcWmlx+2EqwDCdwUJY2RoTYfW5fXSezKG4QbOavmHtEZTnx8ZpBG8shCsgw3OE3Au5RGLTG3P1sM0V48b68aU2fyKk40FBLVKG0dfzlyw23ubbLMR5T8TJiXGuGj+iYn2ubGnw5PHL06NLpitb/HzK/AHzA="
    - # ^^ OSSRH_JIRA_TOKEN_PASSWORD
    - secure: "dD28qdDw6m4OqCoxplMrkl3XR47X5II89y0fccwJuI8XQTBfHgZnqn8JkzI2HDVk6wsLw264hk+e3T3usCMiRNK4l7oCn5tzTlyJiUv4KoW/LCdZqeBlNlN/9JKO3b3RcQEKMTB3pzV2laO9K3V8rSvdNwGLW0gG/GtpsFNZH+g5uSMQaaOi8XpXS8cQlxXhDDBrCubb6hmGEcVoC4RP9sUtlkRis99P48fKqWhh18d9HdwGjaN3H9TUsLDmkiXKc1mTfYhO1Mv89bk4dAjNz2RNgEmdzO3IAvdrzypZRcWgMcJ32R6Yl5RtJhdU7VHdV0SvCzZkoUzWgN1B9k1xCtxe3bxFDFTuai08CsfxOwJ3gZgMRxp89YSdxGHjsk8+pVTV1D/BURY1b4P6y/TleuC6dw2BYFYr4xxAw+Q1CW/NSEe/YGpGgp2muNOObw7tLCDD10MyxcVnlftLkY1igwIFWCVkRxC00ygKLzdT9WFWZFPPwAu3XkZIk21uyvLNlpF0JWyDYk8RtiygqZD1y410h6t/E1ufQ2xTKexPzt42xddLNFo0u1bmP4XcJNogBVYXaD76YnDP+GaLZHgV885C5yN3J/N/zAN7HZZF7C6NAu1L1Ar13bK6EKZ7+/OnrhitalFEBOAEoGA4n3jN0fTh8qbU8g62bCYsna9e7ZM="
    - # ^^ GPG_KEY_NAME
    - secure: "XaSJu0mwchgUHRjpBRmQMJmE+FynccWSATfecIBU7DCILoVO+feEWbHRe087S/2XYvqebVhagUfhJBbbwvvcIIuG5dSZni67upPoQ8O2u1e3u5YTGrCSFJPCAX0Q8FSqTp/cGjlhDgN7VlzM01ccQqqAre5lz7J0RZhSmC0MZefexb2UtTlpZodvqg+h5/vCTeo3cyoAT1Bv+XpSgkkCBxuzAJ+V5wQTEUp8YryxK9W47S8BU6xg1lREbL+7MyTUpcgVS1/c2XUwqnHvEWN6i1x1+/1kIzghc2JL94BaUtOc5Kfv57TQWq9iQzTqgFcpf3kv/vUdQk/b0Duh3SAAWjzGyBNydgTWZFqcqvc8WpdjYRrKssXlSJ8YRzI/j82v0wdZwmS2x8JNu69YkSgBc+cxSuDTSszaNFNzFlEamCNqdhRA3XV+VTM0PIU76Dn0QZqjM71VZFGRm+e6GKPWrAF2OkS+eb54LbFdFjBUbvnKguyMqmkzG4vbhQJeWS5uOpiJjaZG1jsC4BeC1p20HjetJccj3vUUBafSn/fy00JARJ/8XKTG/pdNsiawnTvcGSafhm/RstwCkLZM8klliADk/ZmaUtM7jUSQ3/xpch5kCGCJoIBakv0QHHkR40Q/NKAz6baWENvAgnawv+R0Pe/KQyPh8YzZcm0sk0yR1CQ="
    - # ^^ GPG_PASSPHRASE

install: mvn install #-P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn --settings cd/mvnsettings.xml test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh