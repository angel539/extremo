language: java
sudo: true

env:
  global:
  - secure: rKeYWQA0mPSV9vrBX11BG5Gq1crHlS4JIerNpsNdYFrCbINNCSZMqCa28v02hzhzA4HD8C4mL8mvLfjeGGqVE/R2FSTzzFI9ZFY7Fo94/SrOKRDZ7dr3funjpa3jlaxEHBfnKBe9hBoYnNEcjFRRcSbYrQ9JpngL8tNh/ySD9fxSPcMQ3dwScW7ZX9lx4RinNccm9mWnXHabZb5//Dohw6OcRSQG1ABakCDoPJiAFloEqAmCP5BqyGQ1ALbO24JVkgeklUJyQ7JhBJkyan9++x9zs0tfeWXPLCetwK9wi7ziRe0Kj/G26lcXVCuH6MiZawbFEFrVCFgkaICzCHcKO0DIKWwPgqG/Zgd3GMUU/1KVtVcQBewHltZzna9G5RXoDHSTVNP5FtOy0ChpOd5AieGSBh7ds51XZEJ3K00MzJdc721TcuPxfsz/pFZq4bkmcjfmfz47E/ZxYpQq9H1AXfswZzuRrY/YL/GyQjv+PFnyrwe0KA/by2p3ANCWqOm9Yjsj/HuyzP1NKHdP8WRQCAklJ42DxadsrtJesc2bO9dTEeVkc9WODlUgKwsLZcitF7JKuNNG1ai41pvxOZFAnUQ753+XsNp074/GgimuCQbhl5j4pbDQhWhuTzXvVqORGf+QZuaCzO/jwXLwUkgCCZ6pxple09Fuajw3A0IsRXM=
    # ^^ OSSRH_JIRA_TOKEN_USERNAME
  - secure: qDhh66W7WVjj5e/GN7bamAQm9MAwO8vCMhlLP8GU4c/hScLJGMNv7agdWJbsMPtugVOLg1PK+7azG5B8FzcX/L7uwcM0X1u0MIgch1IinLNdKuZDT8XgXtHen0zM67iOJ47D1u0tu4MNLA4aa73owadE6/RDnAsR6uskSADvDwySpV2Dj6vd3Aq9msnK6pjx5f4oXyQWt7lxntz+FnE2MKet6LEhktbTTBLC6pfRwqlxugeYyrJXEoSGUYKOE5orHKw9sl0v4IgyTFTt4uwSDhY/PwzM6ximALrniejU6iRMcbyUv0q2Lhqm9o74vM3fL7/DMWasvL338DwfVQoGdoBuKVUKkxeR1LUX7P2LcZtjxyDAagEAwnCeRst42aH8CY09i5kjAk5jniz7RpFmd8ygXnXVQget/U5/J6ImjUd3wY4wAFN3sFQbpF5cUedG7/XQ1vxsK6irUTq00wzWD6PelddqfsXlznzdQRIfFcc0NbkhG5ki8r1vXoCZVBEuWp5KFXFeSBYlLAQlvKP77HvBbI7cE0XhUOxDTPLGg/pDUyZhzIEElPwF+85dHfXsriAOBFkh+f92XUeiGx83JzkiyArYrLeDsXY5eo/AyDFa6jFaMlqjCUQNaLacP/ZwJp3kHynePyIPy39QJhhz6dMp99UBOVF4BlckgP9uPn8=
    # ^^ OSSRH_JIRA_TOKEN_PASSWORD
  - secure: wdzurwewUXeiqRTLZf2rt9FDrHg8JQHf19/4/mSxY92ifuBNfTE/dU22Wj0ad07ivbg3R/L+6tS2gT+roQNjpyLiHc2+UL4dja+q0fJkyEP7gquDxDjR+6VVJ1uJ7SAkfuVb1EYpQWTsZzI29pn1s4kC3PBwvAdgRWPuR8ZIIaCU4rrblD5phpwMdSNX4HhLmMQa8t9iF+dDmV9BJ8a86aLIc8mNFRKNT8o59nJo51fUGyTqAYKmLEe3Y2L7VYRUbPPZgPMt+fo87phlsmnBiFFvOvTjFJB1VFVA6Kv5eCwfCyPjzVwKXh5rIs8dbRkWItl8JNNb7u3hTXhgBQY5aB0iqCgGZA31SFsPO804ZzZ0rbly9a/0VW/4MF+ZbhI/mB6LBQkDokkkPat3/AnK83YKiiwirMkkzktoqyqRgop/xMKO2osgd75B2h2BuqmEjHerWLPT7s+TdVGL/+WvBNtwIzzFdFhHuX4ILD1kCb4Hi11FcusfwZUzoh+zH0EczoJtuGrBmqxoZHTQU+cQYXpPQde0C7n2JYVi9qlF/5Cc5h4V1MW8adGrKzI7vYaU9bLup7toRe8PAle/Cnj4vjw6522xvF4Q7jKUIvSze594BfMYt7CyOfyL08idsW3JZ9nIlZQ7WFyhZkbxgQ5h136jYnt9CR3ykOxZ7xzIWBg=
    # ^^ GPG_KEY_NAME
  - secure: tKoOsoLPI+92U+20qun874rRkIuxztsyNN7rwd0cPNfRaRSZ4bpXQ7SRdMmqAn9mvQNzRx+7ZaiM/4JzQVvzLS0yCCs5LLIvAfc+ZqapUnZNDdm8CGFJQqgM4PvEkor8ThphfcBk50j0j9DQGtB9xytw54jgTLBu4lYnv0FArrB6Q2ORORvybq1h+3eioQgOECtVzz+drBPp8r2BgxAr2jL74mLIiV7SDt9S1pkLYkpXxj+/DJoPBh0YJHVwbQskM9azUCSQQyrBgZMatCdy/jFBXPwRz06GToz1pXUG6ZygAZcn7FYW94tsZ42CZORPEZxHHqa2bMwn/wXRT3NlrABzdtUWpQ+i/3RMbf5HONhSJEk1n0DMVfrKth4VZ6jBZqKtqtACtLrRoM+kVPZS2rEg+krqHxjRa89CcVd21gg2ytFhlnl3OHZR+22E9FKrg3qeYxNt0yA2uhg5emaxuT2hOp+T0oUE8n0fcCFCKOamqcpGpS7r4XhnUqB56o+dcbK+WMEQMntl8QNwg8eG6aAINcZRAYYpwUFbstxNbenxTeyP0AcSHvMlVlrow+IDsyPgqg45pOPEP99QriZ51NIsJDGl4qj+TJ4pHqxpG5VvZsE2BomehfgsVCoD+RnCc63FJN/gfj4sfZ0OlO1onxKkmbiUslvosZRpbYw1t18=
    # ^^ GPG_PASSPHRASE

install:
  mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: 
  mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh